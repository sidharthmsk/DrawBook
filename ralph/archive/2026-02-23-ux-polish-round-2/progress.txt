# Drawbook - UX Polish Round 2
# Branch: ralph/ux-polish-round-2
# Started: 2026-02-23

## US-001: Add document duplicate API endpoint ✅
- Added POST /api/duplicate/:documentId to app/server/index.ts
- Copies snapshot and metadata, names copy "{name} (Copy)"
- Typecheck passes

## US-002: Add duplicate option to dashboard context menu ✅
- Added duplicateDoc function in Dashboard.tsx
- Added "Duplicate" button to DocContextMenu between Rename and Move to
- Refreshes doc list after duplication
- Typecheck passes

## US-003: Add sort options to dashboard document list ✅
- Added sort dropdown with 5 options: Modified (newest/oldest), Name (A-Z/Z-A), Type
- Sort persists in localStorage key 'drawbook_sort'
- Applied sorting in visibleDocs useMemo
- Added .sort-select CSS
- Typecheck passes

## US-004: Add quick switcher dialog (Cmd+K) ✅
- Created app/src/components/QuickSwitcher.tsx
- Cmd+K / Ctrl+K opens modal overlay with search
- Shows doc name, type badge, folder path
- Arrow keys + Enter navigation, Escape to close
- Integrated in App.tsx (available on dashboard and all editors)
- Added comprehensive CSS
- Typecheck passes

## US-005: Add recent documents section to dashboard ✅
- Tracks recent opens in localStorage key 'drawbook_recent' (max 10)
- Shows last 5 as horizontal cards at top of dashboard (root folder only)
- Hidden when searching or inside a subfolder
- Added .recent-docs CSS
- Typecheck passes

## US-006: Add Kanban card detail view with description editing ✅
- Added CardDetailModal component in KanbanEditor.tsx
- Single-click card title opens detail modal
- Double-click still does inline rename
- Modal shows editable title and description textarea
- Saves on blur/close, closes on Escape
- Added .kanban-detail CSS
- Typecheck passes

## US-007: Add PDF download button to PdfViewer ✅
- Added download button with icon to PDF controls bar
- Uses <a download> pointing to /api/file/:documentId
- Fetches doc name for filename
- Typecheck passes

## US-008: Add Markdown document export button ✅
- Added onExport/exportLabel props to EditorShell
- Added export button in topbar (before AI toggle)
- MarkdownEditor passes export handler using blocksToMarkdownLossy
- Downloads as {docName}.md via Blob + URL.createObjectURL
- Added .editor-export-btn CSS
- Typecheck passes
